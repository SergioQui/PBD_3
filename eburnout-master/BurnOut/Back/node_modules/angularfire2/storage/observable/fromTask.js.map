{"version":3,"file":"fromTask.js","sourceRoot":"","sources":["../../../../src/storage/observable/fromTask.ts"],"names":[],"mappings":"AACA,OAAO,kBAAkB,CAAC;AAC1B,OAAO,EAAE,UAAU,EAAE,MAAM,iBAAiB,CAAC;AAE7C,MAAM,mBAAmB,IAAwB;IAC/C,MAAM,CAAC,IAAI,UAAU,CAAyC,UAAA,UAAU;QACtE,IAAI,CAAC,EAAE,CAAC,eAAe,EACrB,UAAC,IAAgC,IAAK,OAAA,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAArB,CAAqB,EAC3D,UAAA,CAAC,IAAI,OAAA,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,EAAnB,CAAmB,EACxB,cAAM,OAAA,UAAU,CAAC,QAAQ,EAAE,EAArB,CAAqB,CAC5B,CAAC;QACF,MAAM,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC;KACrC,CAAC,CAAC;CACJ","sourcesContent":["import { storage } from 'firebase/app';\nimport 'firebase/storage';\nimport { Observable } from 'rxjs/Observable';\n\nexport function fromTask(task: storage.UploadTask) {\n  return new Observable<storage.UploadTaskSnapshot | undefined>(subscriber => {\n    task.on('state_changed', \n      (snap: storage.UploadTaskSnapshot) => subscriber.next(snap),\n      e => subscriber.error(e),\n      () => subscriber.complete()\n    );\n    return { unsubscribe: task.cancel };\n  });\n}\n"]}