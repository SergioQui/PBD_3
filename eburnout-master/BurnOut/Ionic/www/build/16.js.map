{"version":3,"sources":["../../src/pages/camara/camara.module.ts","../../src/pages/camara/camara.ts"],"names":[],"mappings":"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","file":"16.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CamaraPage } from './camara';\n\n@NgModule({\n  declarations: [\n    CamaraPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CamaraPage),\n  ],\n})\nexport class CamaraPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/camara/camara.module.ts","import { Component } from '@angular/core';\nimport { IonicPage } from 'ionic-angular';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { DatabaseProvider } from '../../providers/database/database';\nimport { GlobalProvider } from '../../providers/global/global';\n\n@IonicPage()\n@Component({\n  selector: 'page-camara',\n  templateUrl: 'camara.html',\n})\nexport class CamaraPage {\n\n  foto: any;\n  fotoConsulta: any;\n  estadoAnimo: string;\n  errorFoto: boolean;\n  observable: any;\n  estadoAnimoBD: { estadoAnimo: string };\n\n  constructor(public camera: Camera, public database: DatabaseProvider, public global: GlobalProvider) {\n    this.foto = './assets/imgs/foto.svg';\n    this.fotoConsulta = null;\n    this.estadoAnimo = '';\n    this.errorFoto = false;\n  }\n\n  ionViewDidLoad() {\n  }\n\n  /* HACER FOTO DE LA CAMARA NATIVA */\n  hacerFoto() {\n    let opciones: CameraOptions = {\n      destinationType: this.camera.DestinationType.DATA_URL,\n      sourceType: this.camera.PictureSourceType.CAMERA,\n      targetWidth: 512,\n      targetHeight: 512,\n      quality: 100,\n      correctOrientation: true\n    }\n    this.camera.getPicture(opciones).then(imageData => {\n      this.foto = 'data:image/jpeg;base64,' + imageData;\n      this.estadoAnimo = '';\n      this.errorFoto = false;\n      this.fotoConsulta = imageData;\n    });\n  }\n  /* FIN HACER FOTO DE LA CAMARA NATIVA */\n\n  /* ENVIAR FOTO A GOOGLE CLOUD VISION */\n  enviarFoto() {\n    if (this.fotoConsulta != null) {\n      this.observable = this.database.consultaFoto(this.fotoConsulta).subscribe(resultado => {\n        var fotoRespuesta = resultado.json().responses;\n        if (fotoRespuesta[0].faceAnnotations != null) {\n          var contento = fotoRespuesta[0].faceAnnotations[0].joyLikelihood;\n          var triste = fotoRespuesta[0].faceAnnotations[0].sorrowLikelihood;\n          var cabreado = fotoRespuesta[0].faceAnnotations[0].angerLikelihood;\n          var sorprendido = fotoRespuesta[0].faceAnnotations[0].surpriseLikelihood;\n          if (contento == 'VERY_LIKELY' || contento == 'LIKELY') {\n            this.estadoAnimo = '¡CONTENTO!';\n            this.estadoAnimoBD = { estadoAnimo: 'contento' }\n          } else {\n            if (triste == 'VERY_LIKELY' || triste == 'LIKELY') {\n              this.estadoAnimo = '¡TRISTE!';\n              this.estadoAnimoBD = { estadoAnimo: 'triste' }\n            } else {\n              if (cabreado == 'VERY_LIKELY' || cabreado == 'LIKELY') {\n                this.estadoAnimo = '¡CABREADO!';\n                this.estadoAnimoBD = { estadoAnimo: 'cabreado' }\n              } else {\n                if (sorprendido == 'VERY_LIKELY' || sorprendido == 'LIKELY') {\n                  this.estadoAnimo = '¡SORPRENDIDO!';\n                  this.estadoAnimoBD = { estadoAnimo: 'sorprendio' }\n                } else {\n                  this.estadoAnimo = '¡NORMAL!';\n                  this.estadoAnimoBD = { estadoAnimo: 'normal' }\n                }\n              }\n            }\n          }\n          this.foto = './assets/imgs/foto.svg';\n          this.database.guardarEstadoAnimo(this.global.usuario.id, this.estadoAnimoBD);\n        } else {\n          this.errorFoto = true;\n        }\n      });\n    }\n  }\n  /* FIN ENVIAR FOTO A GOOGLE CLOUD VISION */\n\n  ionViewDidLeave() {\n    this.estadoAnimo = '';\n  }\n\n  ionViewWillUnload() {\n    this.observable.unsubscribe();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/camara/camara.ts"],"sourceRoot":""}